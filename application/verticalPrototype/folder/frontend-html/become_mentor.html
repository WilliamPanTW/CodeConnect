<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/application/verticalPrototype/folder/frontend-css/become_mentor.css">
    <title>Become a Mentor</title>
<script>

    function validateForm() {
      const nameInput = document.querySelector('input[type="text"]');
      const emailInput = document.querySelector('input[type="email"]');
      const selectInput = document.querySelector("select");
      const expertiseInput = document.getElementById("expertise-input");
      const projectInput = document.getElementById("project-input");
      const collegeInput = document.getElementById("college-input");
      const degreeInput = document.getElementById("degree-input");
      const whyMentorInput = document.getElementById("why-mentor-input");
      const experienceInput = document.getElementById("experience-input");
      const messageInput = document.getElementById("message-input");

      const submitButton = document.querySelector("button");

      var errorMessage = document.getElementById("error-message");

      let isValid = true;
      let messages = [];

      // Validate name
      if (nameInput.value.trim() === "") {
        isValid = false;
        messages.push("Name is required.");
      }

      // Validate email
      if (emailInput.value.trim() === "") {
        isValid = false;
        messages.push("Email is required.");
      }

      // Validate select
      if (selectInput.value === "") {
        isValid = false;
        messages.push("Please select an option.");
      }
     
      if (expertiseInput.value.trim() === "") {
        isValid = false;
        messages.push("Message of your expertise is required.");
      }

      if (projectInput.value.trim() === "") {
        isValid = false;
        messages.push("Message of your outstanding project is required.");
      }

      if (collegeInput.value.trim() === "") {
        isValid = false;
        messages.push("Message of where you graduated is required.");
      }

      if (degreeInput.value.trim() === "") {
        isValid = false;
        messages.push("Message of your degree is required.");
      }
     
     
      if (whyMentorInput.value.trim() === "") {
        isValid = false;
        messages.push("Message of why become mentor is required.");
      }

      if (experienceInput.value.trim() === "") {
        isValid = false;
        messages.push("Message of year experience is required.");
      }

      if (messageInput.value.trim() === "") {
        isValid = false;
        messages.push("Message of your experience is required.");
      }





      // Display error messages
      if (!isValid) {
        errorMessage.innerHTML = messages.join("<br>");
        errorMessage.style.display = "block";
      } else {
        errorMessage.style.display = "none";
      }
      
      return isValid;
    }


    async function registerMentor(){
    
    var errorMessage = document.getElementById("error-message");

    // Validate form
    if(!validateForm()){
        return false;
      }try{
        const emailInput = document.querySelector('input[type="email"]');
        const email = emailInput.value;

        // Send a POST request to the server
        const response = await fetch(`/api/mentor/requestMentor/${emailInput.value}`, {
          method: "POST"
        });

  
        let result = await response.json(); // Await the JSON parsing
    
        if (response.ok) {
          console.log(result.message|| "User registered as mentor successfully");
          errorMessage.textContent = result.message;
          errorMessage.style.display = "block";
        } else {
          console.error(result.message||"Failed to register mentor");
          errorMessage.textContent = result.message;
          errorMessage.style.display = "block";
        }
      } catch (error) {
        console.error("An error occurred", error);
        errorMessage.textContent = result.message;
        errorMessage.style.display = "block";
      }
    }
    
</script>

  </head>
  <body>
    <div class="header">
        <a href="homepage.html" class="logo-container">
            <img src="Logo.jpg" alt="Logo" class="logo" />
          </a>
        <div class="brand">CodeConnect</div>
        <div class="login-signup">
          <a href="login.html">Sign Out</a>
        </div>
        <h2>Become a Mentor</h2>
        <a href="homepage.html">Home</a>
        <a href="challenges.html">Challenges</a>
        <a href="mentors.html">Mentors</a>
        <a href="forum.html">Forums</a>
        <a href="store.html">Memberships</a>
        <a href="premium.html">Premium</a>
        <a href="explore.html">Explore</a>
        <a href="workspace.html">Workspaces</a>
        <a href="leaderboards.html">Leaderboards</a>
        <a href="jobs.html">Jobs</a>
      </div>
    <div class="container mentorship-container">
      <div class="section-title">
        <h2>Apply here to become a mentor now!</h2>
      </div>
      <input type="text" placeholder="Name" />
      <input type="email" placeholder="Email Address" />
      <select>
        <option value="" disabled selected>Select Expertise</option>
        <option value="frontend">Frontend Development</option>
        <option value="backend">Backend Development</option>
        <option value="database">Databases</option>
        <option value="fullstack">Full Stack</option>
        <option value="fullstack">UX Designer</option>
        <input type="text" id="expertise-input" name="other-expertise" placeholder="Please specify your expertise">
      </select>
      <input type="projects" id="project-input" placeholder="Do you have any outstanding projects to display?"/>
      <input type="college" id="college-input" placeholder="Did you graduate from college and when? If not applicable, type in N/A"/>
      <input type="degree"id="degree-input"  placeholder="Do you have a degree or self learned? If not applicable, type in NA"/>
      <input type="origin" id="why-mentor-input" placeholder="Why do you want to become a Mentor for CodeConnect?"/>
      <input type="experience" id="experience-input" placeholder="How many years of experience do you have?"/>
      <textarea
        id="message-input"
        placeholder="Tell us about your experience and how you can help"
        rows="4"
      ></textarea>
      <div id="error-message"></div>
      <button onclick="return registerMentor();">Submit</button>
    </div>
    <footer>
        <div class="footer-container">
            <div class="footer-nav">
                <ul>
                    <li><a href="index.html"><strong>Home</strong></a></li>
                    <li><a href="about.html"><strong>About</strong></a></li>
                    <li><a><strong>Email: CodeConnectSupport@gmail.com</strong></a></li>
                    <li><a><strong>Phone: 888-888-8888</strong></a></li>
                </ul>
            </div>
            <div class="media-icons">
                <a href="#"><i class="fa-brands fa-instagram"></i></a>
                <a href="#"><i class="fa-brands fa-facebook"></i></a>
                <a href="#"><i class="fa-brands fa-google-plus"></i></a>
                <a href="#"><i class="fa-brands fa-youtube"></i></a>
            </div>
            <div class="footer-bott">
                <p>&copy; 2024 CodeConnect. All rights reserved.</p>
            </div>
        </div>
    </footer>
  </body>
</html>
